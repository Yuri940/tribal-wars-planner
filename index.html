<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pianificatore Attacchi Tribals</title>
    <script src="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.3/dist/tailwind.min.css"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <div class="container mx-auto p-4">
        <h1 class="text-xl font-bold mb-4">Pianificatore Attacchi Tribals</h1>
        
        <div>
            <label for="villaggiPartenza" class="block">Villaggi di Partenza (separati da |)</label>
            <input type="text" id="villaggiPartenza" class="border p-2 w-full mb-4" placeholder="es. 1|2|3">
            <button onclick="countVillages('partenza')" class="border p-2">Conta Villaggi di Partenza</button>
        </div>
        
        <div>
            <label for="villaggiArrivo" class="block">Villaggi di Arrivo (separati da |)</label>
            <input type="text" id="villaggiArrivo" class="border p-2 w-full mb-4" placeholder="es. 4|5|6">
            <button onclick="countVillages('arrivo')" class="border p-2">Conta Villaggi di Arrivo</button>
        </div>

        <div>
            <label for="ascia">Numero di Attacchi Ascia:</label>
            <input type="number" id="ascia" class="border p-2 mb-4" value="0">
        </div>

        <div>
            <label for="ariete">Numero di Attacchi Ariete:</label>
            <input type="number" id="ariete" class="border p-2 mb-4" value="0">
        </div>

        <div>
            <label for="nobile">Numero di Attacchi Nobile:</label>
            <input type="number" id="nobile" class="border p-2 mb-4" value="0">
        </div>

        <button onclick="calcolaAttacchi()" class="bg-blue-500 text-white p-2">Calcola Attacchi</button>

        <div id="risultati" class="mt-4"></div>
    </div>

    <script>
        function countVillages(type) {
            let inputId = type === 'partenza' ? 'villaggiPartenza' : 'villaggiArrivo';
            let villages = document.getElementById(inputId).value.split('|').length;
            alert('Villaggi ' + (type === 'partenza' ? 'di partenza' : 'di arrivo') + ': ' + villages);
        }

        function calcolaAttacchi() {
            let villaggiPartenza = document.getElementById('villaggiPartenza').value.split('|');
            let villaggiArrivo = document.getElementById('villaggiArrivo').value.split('|');
            let attacchiAscia = parseInt(document.getElementById('ascia').value);
            let attacchiAriete = parseInt(document.getElementById('ariete').value);
            let attacchiNobile = parseInt(document.getElementById('nobile').value);

            if (villaggiPartenza.length === 0 || villaggiArrivo.length === 0) {
                alert('Inserisci almeno un villaggio di partenza e uno di arrivo!');
                return;
            }

            if (villaggiPartenza.length < attacchiAscia + attacchiAriete) {
                alert('Non ci sono abbastanza villaggi di partenza per inviare tutti gli attacchi!');
                return;
            }

            if (villaggiArrivo.length < attacchiAscia + attacchiAriete + attacchiNobile) {
                alert('Non ci sono abbastanza villaggi di arrivo per coprire tutti gli attacchi!');
                return;
            }

            let risultati = '';
            let i = 0;

            // Assegnamento degli attacchi
            for (let j = 0; j < attacchiAscia; j++) {
                let villaggioPartenza = villaggiPartenza[i];
                let villaggioArrivo = villaggiArrivo[j];
                risultati += `Attacco Ascia: ${villaggioPartenza} -> ${villaggioArrivo}<br>`;
                i++;
            }

            for (let j = 0; j < attacchiAriete; j++) {
                let villaggioPartenza = villaggiPartenza[i];
                let villaggioArrivo = villaggiArrivo[j];
                risultati += `Attacco Ariete: ${villaggioPartenza} -> ${villaggioArrivo}<br>`;
                i++;
            }

            // Assegnamento dei nobili
            for (let j = 0; j < attacchiNobile; j++) {
                let villaggioPartenza = villaggiPartenza[i];
                let villaggioArrivo = villaggiArrivo[j];
                risultati += `Attacco Nobile: ${villaggioPartenza} -> ${villaggioArrivo}<br>`;
                i++;
            }

            document.getElementById('risultati').innerHTML = risultati;
        }
    </script>
</body>
</html>
